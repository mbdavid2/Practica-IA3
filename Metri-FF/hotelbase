(define (domain hotelbase)
  (:requirements :adl :strips :typing :fluents)
  (:types habitacion reserva - object)

  (:predicates 
              (ocupada ?hab - habitacion ?res - reserva)
              (atendida ?res - reserva)
              (abierta ?hab - habitacion)
              
	)

  (:functions 
              (numpersona ?o - object)
              (inicio ?res - reserva)
              (final ?res - reserva)
              (coste)
  )

  (:action abrirhabitacion
    :parameters (?res - reserva ?hab - habitacion)
    :precondition (and (not (atendida ?res)) (not (abierta ?hab)) (<= (numpersona ?res) (numpersona ?hab)) )
    :effect (and (abierta ?hab) (ocupada ?hab ?res) (atendida ?res) )
  ) 

  (:action asignarhabitacion
    :parameters (?res - reserva ?hab - habitacion)
    :precondition (and (not (atendida ?res)) (abierta ?hab) (<= (numpersona ?res) (numpersona ?hab)) 
      (forall (?rese - reserva) 
      	(or (not (ocupada ?hab ?rese)) (or (>=(inicio ?res)(final ?rese)) (>=(inicio ?rese)(final ?res)) )) 
        
      )
    )  

    :effect (and (atendida ?res) (ocupada ?hab ?res) )
  
  )

  (:action ignorartodo
    :parameters ()
    :effect (and (forall (?res - reserva) (atendida ?res) ) (increase (coste) 1000))
  )
  
)
