(define (domain hotelext2)
  (:requirements :adl :strips :typing :fluents)
  (:types habitacion reserva - object orientacion)

  (:predicates 
              (ocupada ?hab - habitacion ?res - reserva)
	            (atendida ?res - reserva)
              (abierta ?hab - habitacion)
              (orientada ?o - object ?orient - orientacion)
	)

  (:functions 
              (numpersona ?o - object)
              (inicio ?res - reserva)
              (final ?res - reserva)
              (costeignorar)
              (costeorientacion)
  )

  (:action abrirhabitacion
    :parameters (?res - reserva ?hab - habitacion ?or - orientacion)
    :precondition (and (orientada ?res ?or) (not (atendida ?res)) (not (abierta ?hab)) (<= (numpersona ?res) (numpersona ?hab)) )
    :effect (and (abierta ?hab) (ocupada ?hab ?res) (atendida ?res) (when (not (orientada ?hab ?or)) (increase (costeorientacion) 1 ) ) )
  )  

  (:action asignarhabitacion
    :parameters (?res - reserva ?hab - habitacion ?or - orientacion)
    :precondition (and (orientada ?res ?or) (not (atendida ?res)) (abierta ?hab) (<= (numpersona ?res) (numpersona ?hab)) 
      (forall (?rese - reserva) 
      	(or (not (ocupada ?hab ?rese)) (or (>=(inicio ?res)(final ?rese)) (>=(inicio ?rese)(final ?res)) )) 
        
      )
    )  

    :effect (and (atendida ?res) (ocupada ?hab ?res) (when (not (orientada ?hab ?or)) (increase (costeorientacion) 1 ) ) )
  
  )

  (:action ignorarreserva
  	:parameters (?res - reserva)
  	:precondition (not (atendida ?res))
  	:effect (and (atendida ?res) (increase (costeignorar) 1 ) )
  )
  
)

